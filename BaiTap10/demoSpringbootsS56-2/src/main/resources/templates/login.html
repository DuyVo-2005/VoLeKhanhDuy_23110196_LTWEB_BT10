<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Login</title>
</head>
<body>
    <h2>Login Page</h2>
    <form method="post" th:action="@{/login}">
        <input type="text" name="username" placeholder="Username"/>
        <input type="password" name="password" placeholder="Password"/>
        <button type="submit">Login</button>
    </form>
    <p th:if="${param.error}">Invalid username or password</p>

<script>
/* const apiUrl = "/api/auth/login"; // endpoint RESTful

$("#loginForm").submit(function(e) {
    e.preventDefault();

    const email = $("#email").val();
    const password = $("#password").val();

    $.ajax({
        url: apiUrl,
        type: "POST",
        contentType: "application/json",
        data: JSON.stringify({ email: email, password: password }),
        success: function(res) {
            if (!res.success) {
                $("#errorMsg").text(res.message).show();
                return;
            }
            //console.log("Login response:", res);

            if (res.role === "ADMIN") {
                window.location.href = "/admin/home";
            } else if (res.role === "USER") {
                window.location.href = "/user/home";
            } else {
                $("#errorMsg").text("Role không hợp lệ!").show();
            }
        },
        error: function() {
            $("#errorMsg").text("Có lỗi xảy ra, thử lại sau.").show();
        }
    });
}); */
</script>


</body>
</html>
